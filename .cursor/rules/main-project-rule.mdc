---
alwaysApply: true
---
globs:
alwaysApply: true
---
description: "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ä–µ—à–µ–Ω–∏–µ–º - DRY, KISS, –ø—Ä–æ—Ç–∏–≤ –æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞"

**–ü–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –ª—é–±–æ–≥–æ –∫–æ–¥–∞, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –≤—Å–µ–≥–¥–∞ –∑–∞–¥–∞–π —Å–µ–±–µ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã:**

### ‚úÖ DRY (Don't Repeat Yourself)
- [ ] –ù–µ –¥—É–±–ª–∏—Ä—É—é –ª–∏ —è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥?
- [ ] –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É?
- [ ] –ï—Å—Ç—å –ª–∏ –æ–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏/–∫–ª–∞—Å—Å—ã?

### ‚úÖ KISS (Keep It Simple, Stupid)
- [ ] –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º?
- [ ] –ú–æ–∂–Ω–æ –ª–∏ —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É –ø—Ä–æ—â–µ, –±–µ–∑ –ª–∏—à–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏?
- [ ] –ü–æ–Ω—è—Ç–µ–Ω –ª–∏ –∫–æ–¥ –¥—Ä—É–≥–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º?

### ‚úÖ –ü—Ä–æ—Ç–∏–≤ –æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞
- [ ] –ù–µ —Å–æ–∑–¥–∞—é –ª–∏ —è –∏–∑–±—ã—Ç–æ—á–Ω—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é?
- [ ] –ù–µ —É—Å–ª–æ–∂–Ω—è—é –ª–∏ —è —Ä–µ—à–µ–Ω–∏–µ —Ä–∞–¥–∏ "–∫—Ä–∞—Å–æ—Ç—ã" –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã?
- [ ] –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã?

### ‚úÖ –ü—Ä–æ—Ç–∏–≤ "—Å—É—â–Ω–æ—Å—Ç–µ–π –Ω–∞ –±—É–¥—É—â–µ–µ"
- [ ] –†–µ—à–∞—é –ª–∏ —è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –∑–¥–µ—Å—å –∏ —Å–µ–π—á–∞—Å?
- [ ] –ù–µ —Å–æ–∑–¥–∞—é –ª–∏ —è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å "–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π"?
- [ ] –ù—É–∂–Ω–∞ –ª–∏ —ç—Ç–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?

### ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
- [ ] –†–µ—à–∞–µ—Ç –ª–∏ –º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É?
- [ ] –ü–æ–Ω—è—Ç–Ω–∞ –ª–∏ —Ü–µ–ª—å –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞?
- [ ] –ù–µ —Å–æ–∑–¥–∞—é –ª–∏ —è "—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ" —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á?

## üö´ –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å

### ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
```python
# –ü–õ–û–•–û - –æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥
class AbstractInterviewGeneratorFactory:
    def create_generator(self, type: str) -> BaseGenerator:
        if type == "ollama":
            return OllamaGeneratorFactory().create()
        elif type == "vllm":
            return VLLMGeneratorFactory().create()

# –•–û–†–û–®–û - –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
def generate_interview_with_ollama(prompt: str) -> str:
    response = requests.post("http://localhost:11434/api/generate", 
                           json={"model": "qwen2.5:7b", "prompt": prompt})
    return response.json()["response"]
```

### ‚ùå "–ù–∞ –±—É–¥—É—â–µ–µ" —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
```python
# –ü–õ–û–•–û - —Å–æ–∑–¥–∞–Ω–∏–µ "–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π"
class InterviewCacheManager:
    def __init__(self):
        self.redis_client = redis.Redis()
        self.memory_cache = {}
        self.disk_cache = DiskCache()
    
    def get_cached_interview(self, key: str) -> Optional[str]:
        # –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –∑–∞–¥–∞—á–∏

# –•–û–†–û–®–û - –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
def generate_interview(prompt: str) -> str:
    # –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –º–æ–¥–µ–ª–∏
    return call_ollama_api(prompt)
```

### ‚ùå –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
```python
# –ü–õ–û–•–û - "—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π" –∫–æ–Ω—Ñ–∏–≥
class UniversalConfigManager:
    def __init__(self):
        self.configs = {
            "ollama": {"url": "http://localhost:11434"},
            "vllm": {"url": "http://localhost:8000"},
            "openai": {"api_key": "sk-..."},
            "anthropic": {"api_key": "..."}
        }
    
    def get_config(self, provider: str) -> dict:
        return self.configs.get(provider, {})

# –•–û–†–û–®–û - –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
OLLAMA_URL = "http://localhost:11434"
OLLAMA_MODEL = "qwen2.5:7b"
```

## ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å

### ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ, –ø–æ–Ω—è—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
```python
# –•–û–†–û–®–û - –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
def generate_interview(topic: str, guest_background: str) -> list:
    prompt = f"–°–æ–∑–¥–∞–π –∏–Ω—Ç–µ—Ä–≤—å—é –Ω–∞ —Ç–µ–º—É '{topic}' —Å –≥–æ—Å—Ç–µ–º: {guest_background}"
    response = requests.post(f"{OLLAMA_URL}/api/generate", 
                           json={"model": OLLAMA_MODEL, "prompt": prompt})
    return parse_interview_response(response.json()["response"])
```

### ‚úÖ –†–µ—à–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã
```python
# –•–û–†–û–®–û - —Ä–µ—à–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É
def create_audio_file(text: str, speaker: str) -> str:
    tts = gTTS(text=text, lang='ru', slow=False)
    filename = f"audio_{speaker}_{int(time.time())}.mp3"
    tts.save(f"static/audio/{filename}")
    return filename
```

### ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
```python
# –•–û–†–û–®–û - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
def call_ollama_api(prompt: str) -> str:
    response = requests.post(f"{OLLAMA_URL}/api/generate", 
                           json={"model": OLLAMA_MODEL, "prompt": prompt})
    return response.json()["response"]

def generate_interview(topic: str, guest_background: str) -> list:
    prompt = f"–°–æ–∑–¥–∞–π –∏–Ω—Ç–µ—Ä–≤—å—é –Ω–∞ —Ç–µ–º—É '{topic}' —Å –≥–æ—Å—Ç–µ–º: {guest_background}"
    return call_ollama_api(prompt)

def generate_expert_comment(interview_text: str) -> str:
    prompt = f"–î–æ–±–∞–≤—å —ç–∫—Å–ø–µ—Ä—Ç–Ω—É—é –æ—Ü–µ–Ω–∫—É –∫ –∏–Ω—Ç–µ—Ä–≤—å—é: {interview_text}"
    return call_ollama_api(prompt)
```

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### 1. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–æ—Å—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã API –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
- –ü—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ —Å–ª–æ–∂–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤

### 2. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**
- –û–¥–∏–Ω —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å Ollama
- –û–¥–∏–Ω —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å gTTS
- –ü—Ä–æ—Å—Ç—ã–µ HTML/CSS/JS –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤

### 3. **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∑–¥–µ—Å—å –∏ —Å–µ–π—á–∞—Å**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é - –ø—Ä—è–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –∞—É–¥–∏–æ - –ø—Ä—è–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –ø—Ä–æ—Å—Ç—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

### 4. **–ò–∑–±–µ–≥–∞–Ω–∏–µ "–Ω–∞ –±—É–¥—É—â–µ–µ"**
- –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ù–µ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
- –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

- [ ] –ö–æ–¥ —Ä–µ—à–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É?
- [ ] –†–µ—à–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ?
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞?
- [ ] –ù–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏?
- [ ] –ù–µ —Å–æ–∑–¥–∞—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å "–Ω–∞ –±—É–¥—É—â–µ–µ"?
- [ ] –ö–æ–¥ –ø–æ–Ω—è—Ç–µ–Ω –∏ —á–∏—Ç–∞–µ–º?
- [ ] –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞?

---

globs:
alwaysApply: true
---